!function(t,e){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy,window.Bio],e):"object"==typeof exports?module.exports=e(window.dBlazy,window.Bio):t.BioMedia=e(window.dBlazy,window.Bio)}(this,function(t,e){"use strict";function r(t){return n.apply(this,arguments)}var o=t,n=e,s="data-src",i=["src"],a=["srcset","src"],c=r.prototype=Object.create(e.prototype);return c.constructor=r,c.prepare=function(t){return function(){var e=this;if(e.options.breakpoints){var r=[];o.forEach(e.options.breakpoints,function(t){if(i.push(t.src.replace("data-","")),t.width>=e.windowWidth)return s=t.src,r.push(s),!1}),r.length>0&&(s=r[0])}return t.call(this)}}(c.prepare),c.lazyLoad=function(t){return function(e){var r=this,n=e.parentNode,s=r.equal(e,"img"),i=void 0===e.src&&o.hasClass(e,r.options.bgClass),a=n&&r.equal(n,"picture"),c=r.equal(e,"video");return a?(o.forEach(n.getElementsByTagName("source"),function(t){r.setAttr(t,"srcset",!0)}),r.setAttr(e,"src",!0),r.loaded(e,r._ok)):c?(o.forEach(e.getElementsByTagName("source"),function(t){r.setAttr(t,"src",!0)}),e.load(),r.loaded(e,r._ok)):s||i?r.setImage(e,i):e.getAttribute("data-src")&&e.hasAttribute("src")&&(r.setAttr(e,"src",!0),r.loaded(e,r._ok)),t.apply(this,arguments)}}(c.lazyLoad),c.promise=function(t,e){var r=this;return new Promise(function(o,n){var i=new Image;i.src=t.getAttribute(e?s:"data-src"),t.hasAttribute("data-srcset")&&(i.srcset=t.getAttribute("data-srcset"));var c=function(){e?r.setBg(t):r.setAttrs(t,a)};i.onload=function(){c(),o(r._ok)},i.onerror=function(){c(),n(r._er)}})},c.setImage=function(t,e){var r=this;return r.promise(t,e).then(function(o){r.loaded(t,o),r.removeAttrs(t,e?i:a)}).catch(function(e){r.loaded(t,e)})},c.setBg=function(t){t.hasAttribute(s)&&(t.style.backgroundImage='url("'+t.getAttribute(s)+'")',t.removeAttribute("src"))},r});
