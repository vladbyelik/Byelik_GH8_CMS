!function(o,e,t,i){"use strict";function a(e,a){function l(){n.removeClass(function(o,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})}function d(){i.clearTimeout(r);var e={width:h.width||t.colorbox.maxWidth,height:h.height||t.colorbox.maxHeight};r=i.setTimeout(function(){if(o("#cboxOverlay").is(":visible")){var t=o("#cboxLoadedContent"),i=o(".cboxIframe",t);i.length?(t.addClass("media media--ratio"),i.attr("width",e.width).attr("height",e.height).addClass("media__element"),t.css({paddingBottom:e.height/e.width*100+"%",height:0}),o.colorbox.resize({innerWidth:e.width,innerHeight:e.height})):(t.removeClass("media media--ratio"),t.css({paddingBottom:"",height:e.height}).removeClass("media__element"))}},10)}var c=o(a),h=c.data("media")||{},m="image"!==h.type,s={rel:h.rel||null,iframe:m,title:function(){var o=c.next(".litebox-caption");return o.length?o.html():""},onComplete:function(){l(),n.addClass("colorbox-on colorbox-on--"+h.type),m&&(d(),n.addClass("colorbox-on--media"))},onClosed:function(){l()}};c.colorbox(o.extend({},t.colorbox,s))}var r,n=o("body");e.behaviors.blazyColorbox={attach:function(e){if(t.colorbox){if(t.colorbox.mobiledetect&&i.matchMedia){if(i.matchMedia("(max-device-width: "+t.colorbox.mobiledevicewidth+")").matches)return}o("[data-colorbox-trigger]",e).once("blazy-colorbox",a)}}}}(jQuery,Drupal,Drupal.settings,this);
